<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Born Survival Store - Магазин скинов и DLC</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #0c1218;
            color: #e0e0e0;
            line-height: 1.6;
            background-image: url('https://images.unsplash.com/photo-1559827260-dc66d52bef19?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
        }
        
        .overlay {
            background-color: rgba(12, 18, 24, 0.9);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header */
        header {
            background: linear-gradient(135deg, #1a252f 0%, #0c1218 100%);
            padding: 15px 0;
            border-bottom: 2px solid #2a3a4a;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }
        
        .logo-area {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            color: #ff6b35;
            font-size: 32px;
            text-shadow: 0 0 10px rgba(255, 107, 53, 0.5);
        }
        
        .logo h1 {
            color: #fff;
            font-size: 28px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
        }
        
        .logo span {
            color: #ff6b35;
            font-weight: bold;
        }
        
        .user-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 5px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background-color: #ff6b35;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #e55a2b;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
        }
        
        .btn-secondary {
            background-color: #2a3a4a;
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: #3a4a5a;
        }
        
        .balance {
            display: flex;
            align-items: center;
            gap: 10px;
            background-color: #1a252f;
            padding: 8px 15px;
            border-radius: 5px;
            border: 1px solid #3a4a5a;
        }
        
        .balance i {
            color: #ffd166;
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(26, 37, 47, 0.9), rgba(12, 18, 24, 0.95)), 
                        url('https://images.unsplash.com/photo-1550745165-9bc0b252726f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80');
            background-size: cover;
            background-position: center;
            padding: 80px 0;
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 2px solid #2a3a4a;
        }
        
        .hero h2 {
            font-size: 42px;
            margin-bottom: 20px;
            color: #fff;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
        
        .hero p {
            font-size: 18px;
            max-width: 700px;
            margin: 0 auto 30px;
            color: #b0b7c3;
        }
        
        /* Tutorial Section */
        .tutorial {
            background-color: #1a252f;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 40px;
            border: 1px solid #2a3a4a;
        }
        
        .tutorial h3 {
            color: #ff6b35;
            margin-bottom: 20px;
            font-size: 24px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .tutorial-steps {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: space-between;
        }
        
        .step {
            flex: 1;
            min-width: 250px;
            background-color: #0c1218;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #ff6b35;
        }
        
        .step-number {
            display: inline-block;
            background-color: #ff6b35;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        /* Filter */
        .filter {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 10px 25px;
            background-color: #1a252f;
            color: #b0b7c3;
            border: 1px solid #2a3a4a;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }
        
        .filter-btn.active, .filter-btn:hover {
            background-color: #ff6b35;
            color: white;
            border-color: #ff6b35;
        }
        
        /* Store items */
        .store-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 60px;
        }
        
        .item-card {
            background-color: #1a252f;
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid #2a3a4a;
        }
        
        .item-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
            border-color: #ff6b35;
        }
        
        .item-image {
            height: 180px;
            background-color: #0c1218;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .item-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #ff6b35;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            font-weight: bold;
            z-index: 2;
        }
        
        .dlc-badge {
            background-color: #06d6a0;
        }
        
        .barricade-badge {
            background-color: #118ab2;
        }
        
        .item-info {
            padding: 20px;
        }
        
        .item-name {
            font-size: 20px;
            margin-bottom: 10px;
            color: #fff;
        }
        
        .item-description {
            color: #8a9bb2;
            font-size: 14px;
            margin-bottom: 15px;
            min-height: 60px;
        }
        
        .item-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .price {
            font-size: 24px;
            color: #ffd166;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .buy-btn {
            background-color: #06d6a0;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
        }
        
        .buy-btn:hover {
            background-color: #05b686;
        }
        
        /* Cart */
        .cart-container {
            background-color: #1a252f;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 60px;
            border: 1px solid #2a3a4a;
        }
        
        .cart-container h3 {
            font-size: 24px;
            margin-bottom: 20px;
            color: #ff6b35;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .cart-items {
            margin-bottom: 30px;
            min-height: 100px;
        }
        
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #2a3a4a;
        }
        
        .cart-item:last-child {
            border-bottom: none;
        }
        
        .cart-item-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .cart-item-image {
            width: 50px;
            height: 50px;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .cart-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .cart-item-name {
            font-weight: 600;
            color: #fff;
        }
        
        .cart-item-price {
            color: #ffd166;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .remove-item {
            background-color: #ef476f;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .remove-item:hover {
            background-color: #d43d63;
        }
        
        .cart-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            padding-top: 20px;
            border-top: 2px solid #2a3a4a;
            color: #fff;
        }
        
        .total-price {
            color: #ffd166;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .checkout-btn {
            width: 100%;
            padding: 15px;
            background-color: #ff6b35;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .checkout-btn:hover {
            background-color: #e55a2b;
        }
        
        /* Payment methods */
        .payment-methods-container {
            background-color: #1a252f;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 40px;
            border: 1px solid #2a3a4a;
        }
        
        .payment-methods-container h4 {
            color: #ff6b35;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .payment-icons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .payment-icon {
            background-color: #0c1218;
            border: 1px solid #2a3a4a;
            border-radius: 8px;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            gap: 8px;
            color: #b0b7c3;
            transition: all 0.3s;
        }
        
        .payment-icon:hover {
            border-color: #ff6b35;
            color: #fff;
        }
        
        /* Footer */
        footer {
            background-color: #1a252f;
            padding: 40px 0;
            border-top: 2px solid #2a3a4a;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 30px;
        }
        
        .footer-section h4 {
            color: #ff6b35;
            margin-bottom: 20px;
            font-size: 18px;
        }
        
        .footer-section p, .footer-section a {
            color: #b0b7c3;
            margin-bottom: 10px;
            display: block;
            text-decoration: none;
        }
        
        .footer-section a:hover {
            color: #ff6b35;
        }
        
        .copyright {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #2a3a4a;
            color: #8a9bb2;
            font-size: 14px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .logo-area {
                flex-direction: column;
                gap: 20px;
            }
            
            .hero h2 {
                font-size: 32px;
            }
            
            .store-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .tutorial-steps {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="overlay">
        <!-- Header -->
        <header>
            <div class="container">
                <div class="logo-area">
                    <div class="logo">
                        <div class="logo-icon">
                            <i class="fas fa-fire-alt"></i>
                        </div>
                        <h1>BORN <span>SURVIVAL</span> STORE</h1>
                    </div>
                    
                    <div class="user-actions">
                        <div class="balance">
                            <i class="fas fa-coins"></i>
                            <span>2,850 <strong>Born Coins</strong></span>
                        </div>
                        <button class="btn btn-secondary"><i class="fas fa-user"></i> Профиль</button>
                        <button class="btn btn-primary"><i class="fas fa-shopping-cart"></i> Корзина (<span id="cart-count">0</span>)</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <h2>Магазин выживания в Born</h2>
                <p>Приобретайте эксклюзивные скины для оружия, баррикады, наборы для выживания и DLC. Получайте преимущество в жестоком мире выживания!</p>
                <button class="btn btn-primary" style="padding: 15px 30px; font-size: 18px;">
                    <i class="fas fa-play-circle"></i> Играть в Born Survival
                </button>
            </div>
        </section>

        <div class="container">
            <!-- Tutorial Section -->
            <section class="tutorial">
                <h3><i class="fas fa-graduation-cap"></i> Как купить предметы в магазине</h3>
                <div class="tutorial-steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <h4>Пополните баланс</h4>
                        <p>Купите Born Coins через FreeKassa. Выберите удобный способ оплаты: карта, электронный кошелек или мобильный платеж.</p>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <h4>Выберите предметы</h4>
                        <p>Отфильтруйте скины, баррикады или DLC. Нажмите "Купить" чтобы добавить в корзину.</p>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <h4>Оплатите заказ</h4>
                        <p>Перейдите в корзину, проверьте заказ и оплатите через FreeKassa. Предметы появятся в инвентаре сразу после оплаты.</p>
                    </div>
                </div>
            </section>

            <!-- Payment Methods -->
            <div class="payment-methods-container">
                <h4><i class="fas fa-credit-card"></i> Доступные способы оплаты через FreeKassa</h4>
                <div class="payment-icons">
                    <div class="payment-icon">
                        <i class="fab fa-cc-visa"></i> Visa
                    </div>
                    <div class="payment-icon">
                        <i class="fab fa-cc-mastercard"></i> Mastercard
                    </div>
                    <div class="payment-icon">
                        <i class="fas fa-mobile-alt"></i> Мобильные платежи
                    </div>
                    <div class="payment-icon">
                        <i class="fab fa-qiwi"></i> QIWI
                    </div>
                    <div class="payment-icon">
                        <i class="fas fa-wallet"></i> Электронные кошельки
                    </div>
                    <div class="payment-icon">
                        <i class="fas fa-university"></i> Интернет-банки
                    </div>
                </div>
            </div>

            <!-- Filter -->
            <div class="filter">
                <button class="filter-btn active" data-filter="all">Все предметы</button>
                <button class="filter-btn" data-filter="skins">Скины оружия</button>
                <button class="filter-btn" data-filter="barricades">Баррикады</button>
                <button class="filter-btn" data-filter="dlc">DLC и наборы</button>
            </div>

            <!-- Store Items Grid -->
            <div class="store-grid" id="store-items">
                <!-- Items will be generated by JavaScript -->
            </div>

            <!-- Shopping Cart -->
            <div class="cart-container">
                <h3><i class="fas fa-shopping-cart"></i> Ваша корзина</h3>
                
                <div class="cart-items" id="cart-items">
                    <!-- Cart items will be added here -->
                    <p id="empty-cart-message">Ваша корзина пуста. Добавьте предметы из магазина.</p>
                </div>
                
                <div class="cart-total">
                    <span>Итого:</span>
                    <span class="total-price"><i class="fas fa-coins"></i> <span id="cart-total">0</span> Born Coins</span>
                </div>
                
                <button class="checkout-btn" id="checkout-btn">
                    <i class="fas fa-lock"></i> Оплатить через FreeKassa
                </button>
            </div>
        </div>

        <!-- Footer -->
        <footer>
            <div class="container">
                <div class="footer-content">
                    <div class="footer-section">
                        <h4>Born Survival Store</h4>
                        <p>Официальный магазин игры Born Survival. Приобретайте скины, баррикады, DLC и эксклюзивный контент для выживания.</p>
                        <p><i class="fas fa-shield-alt" style="color: #06d6a0;"></i> Все платежи защищены через FreeKassa</p>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Поддержка</h4>
                        <a href="#"><i class="fas fa-question-circle"></i> Центр поддержки</a>
                        <a href="#"><i class="fas fa-redo"></i> Восстановление покупок</a>
                        <a href="#"><i class="fas fa-file-contract"></i> Политика возврата</a>
                        <a href="#"><i class="fas fa-comments"></i> FAQ</a>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Игра Born Survival</h4>
                        <p><i class="fas fa-skull-crossbones"></i> Жестокий мир выживания</p>
                        <p><i class="fas fa-fort-awesome"></i> Стройте баррикады, находите ресурсы</p>
                        <p><i class="fas fa-users"></i> Кооператив на 4-х игроков</p>
                        <p><i class="fas fa-expand-arrows-alt"></i> Открытый мир, полный опасностей</p>
                    </div>
                </div>
                
                <div class="copyright">
                    <p>&copy; 2023 Born Survival Store. Все права защищены. Born Survival является игрой в жанре выживания, разработанной на Unity.</p>
                    <p>Born Coins - внутриигровая валюта. Все покупки защищены через FreeKassa.</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Store items data with YOUR images
        const storeItems = [
            {
                id: 1,
                name: "AKSU (ARCTIC)",
                type: "skins",
                description: "Арктический камуфляж для автомата AKSU. Идеален для снежных локаций.",
                price: 450,
                image: "images/aksu_ice.jpeg", // Ваш файл
                isDefault: false
            },
            {
                id: 2,
                name: "Кровавый AKR 47",
                type: "skins",
                description: "Устрашающий кровавый скин для автомата AKR 47.",
                price: 550,
                image: "images/akr47_bloody.jpeg", // Ваш файл
                isDefault: false
            },
            {
                id: 3,
                name: "Кровавый MP5",
                type: "skins",
                description: "Пистолет-пулемет MP5 с кровавым покрытием.",
                price: 500,
                image: "images/mp5_bloody.jpeg", // Ваш файл
                isDefault: false
            },
            {
                id: 4,
                name: "Металлическая маска",
                type: "skins",
                description: "Прочная металлическая маска для защиты лица.",
                price: 320,
                image: "https://images.unsplash.com/photo-1531315630201-bb15abeb1653?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                isDefault: false
            },
            {
                id: 5,
                name: "AKSU (DANGER)",
                type: "skins",
                description: "Предупреждающий камуфляж для автомата AKSU.",
                price: 480,
                image: "images/aksu_danger.jpeg", // Ваш файл
                isDefault: false
            },
            {
                id: 6,
                name: "Топор (Градиент)",
                type: "skins",
                description: "Топор с градиентным цветовым покрытием.",
                price: 380,
                image: "images/axe_gradient.jpeg", // Ваш файл
                isDefault: false
            },
            {
                id: 7,
                name: "Ледяные баррикады",
                type: "barricades",
                description: "Набор ледяных баррикад для арктических локаций.",
                price: 750,
                image: "images/barricades_ice.jpeg", // Ваш файл
                isDefault: false
            },
            {
                id: 8,
                name: "Металлические баррикады",
                type: "barricades",
                description: "Прочные металлические баррикады повышенной защиты.",
                price: 1200,
                image: "https://images.unsplash.com/photo-1591369822096-ffd140ec948f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                isDefault: false
            },
            {
                id: 9,
                name: "Колючие баррикады",
                type: "barricades",
                description: "Баррикады с колючей проволокой для отпугивания врагов.",
                price: 850,
                image: "https://images.unsplash.com/photo-1531315630201-bb15abeb1653?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                isDefault: false
            },
            {
                id: 10,
                name: "Набор баррикад 'Крепость'",
                type: "barricades",
                description: "Полный набор баррикад для создания неприступной крепости.",
                price: 2200,
                image: "https://images.unsplash.com/photo-1591369822096-ffd140ec948f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                isDefault: false
            },
            {
                id: 11,
                name: "Карта Palisada DLC",
                type: "dlc",
                description: "Эксклюзивная карта Palisada с новыми врагами и ресурсами.",
                price: 1500,
                image: "https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                isDefault: false
            },
            {
                id: 12,
                name: "Набор выживания DLC",
                type: "dlc",
                description: "Эксклюзивный набор для выживания с уникальным снаряжением.",
                price: 950,
                image: "https://images.unsplash.com/photo-1523987355523-c7b5b0dd90a7?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                isDefault: false
            },
            {
                id: 13,
                name: "Ночь охотника DLC",
                type: "dlc",
                description: "Ночной режим с особыми врагами и испытаниями.",
                price: 1200,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                isDefault: false
            },
            {
                id: 14,
                name: "Зомби-апокалипсис DLC",
                type: "dlc",
                description: "Дополнение с ордами зомби и особым оружием.",
                price: 1800,
                image: "https://images.unsplash.com/photo-1533616688419-b7a585564f70?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                isDefault: false
            },
            {
                id: 15,
                name: "Элитный набор оружия",
                type: "skins",
                description: "Набор элитных скинов для всего арсенала оружия.",
                price: 2800,
                image: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                isDefault: false
            }
        ];

        // Cart state
        let cart = [];
        
        // DOM elements
        const storeItemsContainer = document.getElementById('store-items');
        const cartItemsContainer = document.getElementById('cart-items');
        const cartCountElement = document.getElementById('cart-count');
        const cartTotalElement = document.getElementById('cart-total');
        const emptyCartMessage = document.getElementById('empty-cart-message');
        const checkoutBtn = document.getElementById('checkout-btn');
        const filterButtons = document.querySelectorAll('.filter-btn');
        
        // Initialize the store
        function initStore() {
            renderStoreItems('all');
            updateCartDisplay();
            
            // Add event listeners to filter buttons
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove active class from all buttons
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    // Add active class to clicked button
                    button.classList.add('active');
                    // Render items with selected filter
                    renderStoreItems(button.getAttribute('data-filter'));
                });
            });
            
            // Add event listener to checkout button
            checkoutBtn.addEventListener('click', processCheckout);
        }
        
        // Render store items based on filter
        function renderStoreItems(filter) {
            storeItemsContainer.innerHTML = '';
            
            let filteredItems = storeItems;
            
            if (filter !== 'all') {
                filteredItems = storeItems.filter(item => item.type === filter);
            }
            
            filteredItems.forEach(item => {
                const itemCard = document.createElement('div');
                itemCard.className = 'item-card';
                itemCard.setAttribute('data-id', item.id);
                itemCard.setAttribute('data-type', item.type);
                
                let badgeClass = 'item-badge';
                let badgeText = 'СКИН';
                
                if (item.type === 'dlc') {
                    badgeClass += ' dlc-badge';
                    badgeText = 'DLC';
                } else if (item.type === 'barricades') {
                    badgeClass += ' barricade-badge';
                    badgeText = 'БАРРИКАДЫ';
                }
                
                itemCard.innerHTML = `
                    <div class="item-image">
                        <img src="${item.image}" alt="${item.name}" onerror="this.src='https://images.unsplash.com/photo-1550745165-9bc0b252726f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80'">
                        <div class="${badgeClass}">${badgeText}</div>
                    </div>
                    <div class="item-info">
                        <h3 class="item-name">${item.name}</h3>
                        <p class="item-description">${item.description}</p>
                        <div class="item-price">
                            <div class="price"><i class="fas fa-coins"></i> ${item.price}</div>
                            <button class="buy-btn" data-id="${item.id}">
                                <i class="fas fa-cart-plus"></i> Купить
                            </button>
                        </div>
                    </div>
                `;
                
                storeItemsContainer.appendChild(itemCard);
                
                // Add event listener to buy button
                const buyBtn = itemCard.querySelector('.buy-btn');
                buyBtn.addEventListener('click', () => addToCart(item));
            });
        }
        
        // Add item to cart
        function addToCart(item) {
            // Check if item is already in cart
            const existingItem = cart.find(cartItem => cartItem.id === item.id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...item,
                    quantity: 1
                });
            }
            
            updateCartDisplay();
            
            // Show feedback
            showNotification(`"${item.name}" добавлен в корзину!`);
        }
        
        // Remove item from cart
        function removeFromCart(itemId) {
            cart = cart.filter(item => item.id !== itemId);
            updateCartDisplay();
        }
        
        // Update cart display
        function updateCartDisplay() {
            // Update cart count
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCountElement.textContent = totalItems;
            
            // Clear cart items container
            cartItemsContainer.innerHTML = '';
            
            if (cart.length === 0) {
                emptyCartMessage.style.display = 'block';
                cartItemsContainer.appendChild(emptyCartMessage);
                cartTotalElement.textContent = '0';
                checkoutBtn.disabled = true;
                checkoutBtn.style.opacity = '0.7';
                checkoutBtn.style.cursor = 'not-allowed';
                return;
            }
            
            emptyCartMessage.style.display = 'none';
            
            // Add cart items
            let totalPrice = 0;
            
            cart.forEach(item => {
                const cartItemElement = document.createElement('div');
                cartItemElement.className = 'cart-item';
                
                const itemTotalPrice = item.price * item.quantity;
                totalPrice += itemTotalPrice;
                
                cartItemElement.innerHTML = `
                    <div class="cart-item-info">
                        <div class="cart-item-image">
                            <img src="${item.image}" alt="${item.name}" onerror="this.src='https://images.unsplash.com/photo-1550745165-9bc0b252726f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80'">
                        </div>
                        <span class="cart-item-name">${item.name} x${item.quantity}</span>
                    </div>
                    <div class="cart-item-actions">
                        <span class="cart-item-price"><i class="fas fa-coins"></i> ${itemTotalPrice}</span>
                        <button class="remove-item" data-id="${item.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                
                cartItemsContainer.appendChild(cartItemElement);
                
                // Add event listener to remove button
                const removeBtn = cartItemElement.querySelector('.remove-item');
                removeBtn.addEventListener('click', () => removeFromCart(item.id));
            });
            
            // Update total price
            cartTotalElement.textContent = `${totalPrice}`;
            
            // Enable checkout button
            checkoutBtn.disabled = false;
            checkoutBtn.style.opacity = '1';
            checkoutBtn.style.cursor = 'pointer';
        }
        
        // Process checkout (FreeKassa integration)
        function processCheckout() {
            if (cart.length === 0) return;
            
            // Calculate total
            const totalPrice = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            
            // Show checkout modal
            showCheckoutModal(totalPrice);
        }
        
        // Show checkout modal with FreeKassa
        function showCheckoutModal(totalPrice) {
            // Create modal
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.9);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
            `;
            
            // Generate order description
            const orderDescription = cart.map(item => 
                `${item.name} x${item.quantity}`
            ).join(', ');
            
            // IMPORTANT: В реальном проекте здесь будут данные вашего магазина FreeKassa
            // merchant_id, secret_word, order_id и другие параметры
            
            modal.innerHTML = `
                <div style="
                    background-color: #1a252f;
                    border-radius: 10px;
                    padding: 30px;
                    width: 90%;
                    max-width: 500px;
                    border: 2px solid #ff6b35;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                ">
                    <h3 style="color: #ff6b35; margin-bottom: 20px; font-size: 24px;">
                        <i class="fas fa-lock"></i> Оплата через FreeKassa
                    </h3>
                    
                    <p style="margin-bottom: 20px; color: #b0b7c3;">
                        Вы собираетесь оплатить покупку на сумму <strong style="color: #ffd166;"><i class="fas fa-coins"></i> ${totalPrice} Born Coins</strong>.
                    </p>
                    
                    <div style="background-color: #0c1218; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
                        <h4 style="color: #fff; margin-bottom: 10px;">Содержимое заказа:</h4>
                        <ul style="list-style-type: none; color: #b0b7c3;">
                            ${cart.map(item => `<li><i class="fas fa-coins" style="color: #ffd166;"></i> ${item.name} x${item.quantity} - ${item.price * item.quantity} Born Coins</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <p style="color: #b0b7c3; font-size: 14px;">
                            <i class="fas fa-shield-alt" style="color: #06d6a0;"></i> Все платежи защищены через FreeKassa. После оплаты предметы автоматически появятся в вашем игровом инвентаре.
                        </p>
                    </div>
                    
                    <!-- FreeKassa Payment Form -->
                    <form id="freekassa-form" method="POST" action="https://pay.freekassa.ru/" style="display: none;">
                        <input type="hidden" name="m" value="YOUR_MERCHANT_ID">
                        <input type="hidden" name="oa" value="${totalPrice}">
                        <input type="hidden" name="o" value="ORDER_${Date.now()}">
                        <input type="hidden" name="s" id="freekassa-signature">
                        <input type="hidden" name="i" value="rub">
                        <input type="hidden" name="lang" value="ru">
                        <input type="hidden" name="us_userid" value="USER_ID">
                        <input type="hidden" name="us_order" value="${orderDescription}">
                    </form>
                    
                    <div style="display: flex; gap: 15px; margin-top: 30px;">
                        <button id="confirm-payment" style="
                            flex: 2;
                            padding: 15px;
                            background-color: #06d6a0;
                            color: white;
                            border: none;
                            border-radius: 5px;
                            font-weight: bold;
                            cursor: pointer;
                            font-size: 16px;
                        ">
                            <i class="fas fa-check"></i> Перейти к оплате в FreeKassa
                        </button>
                        
                        <button id="cancel-payment" style="
                            flex: 1;
                            padding: 15px;
                            background-color: #2a3a4a;
                            color: white;
                            border: none;
                            border-radius: 5px;
                            font-weight: bold;
                            cursor: pointer;
                        ">
                            <i class="fas fa-times"></i> Отмена
                        </button>
                    </div>
                    
                    <div style="margin-top: 20px; padding: 10px; background-color: #0c1218; border-radius: 5px;">
                        <p style="color: #8a9bb2; font-size: 12px; text-align: center;">
                            <i class="fas fa-info-circle"></i> После подтверждения вы будете перенаправлены на защищенную страницу FreeKassa для завершения оплаты
                        </p>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Add event listeners
            document.getElementById('confirm-payment').addEventListener('click', () => {
                // В реальном проекте здесь должна быть генерация подписи для FreeKassa
                // и отправка формы
                
                // Для демо-версии показываем успешное сообщение
                showNotification('Перенаправление на FreeKassa... Оплата прошла успешно! Предметы добавлены в инвентарь.');
                
                // В реальном проекте раскомментируйте:
                // document.getElementById('freekassa-form').submit();
                
                // Для демо очищаем корзину
                setTimeout(() => {
                    cart = [];
                    updateCartDisplay();
                    document.body.removeChild(modal);
                }, 1500);
            });
            
            document.getElementById('cancel-payment').addEventListener('click', () => {
                document.body.removeChild(modal);
            });
            
            // Close modal when clicking outside
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    document.body.removeChild(modal);
                }
            });
        }
        
        // Show notification
        function showNotification(message) {
            // Remove existing notification if any
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }
            
            // Create notification
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.innerHTML = `<i class="fas fa-check-circle"></i> ${message}`;
            notification.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background-color: #06d6a0;
                color: white;
                padding: 15px 25px;
                border-radius: 5px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
                z-index: 1001;
                animation: slideIn 0.3s ease-out;
                display: flex;
                align-items: center;
                gap: 10px;
                max-width: 400px;
            `;
            
            document.body.appendChild(notification);
            
            // Remove notification after 3 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.animation = 'slideOut 0.3s ease-out';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.remove();
                        }
                    }, 300);
                }
            }, 3000);
        }
        
        // Add CSS for notifications
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
        
        // Initialize the store when page loads
        document.addEventListener('DOMContentLoaded', initStore);
        
        // Handle image loading errors
        window.addEventListener('error', function(e) {
            if (e.target.tagName === 'IMG') {
                e.target.src = 'https://images.unsplash.com/photo-1550745165-9bc0b252726f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80';
            }
        }, true);
    </script>
</body>
</html>